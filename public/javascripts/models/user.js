((function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};App.Models.User=function(b){function d(){return this.getLocationAsLatLng=a(this.getLocationAsLatLng,this),this.currentPositionCallback=a(this.currentPositionCallback,this),this.initialize=a(this.initialize,this),d.__super__.constructor.apply(this,arguments)}return c(d,b),d.name="User",d.prototype.localStorage=new Backbone.LocalStorage("User"),d.prototype.defaults={address:void 0,latitude:60.166591,longitude:24.943565,destination:"Helsinki"},d.prototype.initialize=function(){return navigator.geolocation?navigator.geolocation.getCurrentPosition(this.currentPositionCallback):console.log("No geolocation support")},d.prototype.currentPositionCallback=function(a){return this.set({latitude:a.coords.latitude,longitude:a.coords.longitude}),this.save,this.trigger("locationChanged")},d.prototype.getLocationAsLatLng=function(){return new google.maps.LatLng(this.get("latitude"),this.get("longitude"))},d}(Backbone.Model)})).call(this)